import Image from "next/image";
import imageIcon from "../assets/imageIcon.png";
import { Error } from "./Error";
import { LoadingRipple } from "./LoadingRipple";

interface Props {
  loading: boolean;
  imageUrl: string;
  error?: string;
}

export const Result = ({ imageUrl, error, loading }: Props) => {
  if (loading) {
    return <LoadingRipple />;
  }

  if (error) {
    return <Error errorMessage={error} className="result-error" />;
  }

  if (imageUrl) {
    return (
      <div className="result-wrapper">
        <Image
          className="result-image"
          src={imageUrl}
          alt="Image generated by AI"
          width={300}
          height={300}
        />
        <div className="source">
          Generated by <a href="https://openai.com/">OpenAI</a>
        </div>
      </div>
    );
  }

  return (
    <Image
      className="image-icon"
      src={imageIcon}
      alt="Image placeholder"
      width={256}
      height={256}
      priority
    />
  );
};
